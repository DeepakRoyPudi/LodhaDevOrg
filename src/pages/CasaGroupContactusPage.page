<apex:page controller="CasaGroupContactusController" sidebar="false" showHeader="false">
  

      <!--dependency : returl mustbe specified in the URL-->
      
        <apex:includeScript value="{!URLFOR($Resource.jQuery)}"/>  
        <apex:includeScript value="{!URLFOR($Resource.JQueryTestUI)}"/>
        <!--apex:includeScript value="{!URLFOR($Resource.ValidationJavaScript)}"/-->         
        <apex:stylesheet value="{!URLFOR($Resource.w2l, "lodha.css")}"/>
    
    <style>
    
    
 /** FORM LAYOUT **/
 
body{ background: #fff; margin: 0; padding: 0;}

fieldset#casbylodha_business_form {font-family: 'Trebuchet MS',Verdana,Arial; border: none; border: none; width: 400px; padding: 20px; margin: 0 auto;}


fieldset#casbylodha_business_form label{color: #222; padding-right: 6px; display: inline-block; width: 160px; text-align: right;vertical-align: middle;zoom: 1;*display: inline; font-size: 12px;}
fieldset#casbylodha_business_form label span{color: #f00;}
fieldset#casbylodha_business_form p{margin-bottom: 4px;}
fieldset#casbylodha_business_form p em{color: #222; font-style: normal; font-size: 12px; display: block; margin: 6px 0 6px 164px;}

fieldset#casbylodha_business_form select,fieldset#casbylodha_business_form input{ font-family: 'Trebuchet MS',Verdana,Arial; font-size: 12px; color: #222;width: 200px;padding: 2px; border: 1px solid #666;}
fieldset#casbylodha_business_form span{display: inline-block; vertical-align: middle;zoom: 1;*display: inline;}
fieldset#casbylodha_business_form span.select {*background: none; margin-left: -4px;}
fieldset#casbylodha_business_form span.select select{width: 206px; *width: 208px;}
 
/** Chrome Only CSS Hack **/
@media screen and (-webkit-min-device-pixel-ratio){form fieldset#casbylodha_business_form select{padding: 0;}}



fieldset#casbylodha_business_form input.mob1 {width: 29px; margin-right: 4px;}
fieldset#casbylodha_business_form input.mob2 {width: 161px;}

fieldset#casbylodha_business_form input.lan1 {width: 29px; margin-right: 4px;}
fieldset#casbylodha_business_form input.lan2 {width: 29px; margin-right: 4px;}
fieldset#casbylodha_business_form input.lan3 {width: 121px;}
    
#citytextinput_id {display: none;}
             
 /** ENQUIRE BUTTON IMAGE **/
 #cbl-submit-btn a{margin: 20px 0 10px 166px; line-height: 23px; color: #fff; text-decoration: none; border: 0; text-align: center; display: block; background: url({!URLFOR($Resource.cbl_submit_btn)}) left top no-repeat; height: 23px; width: 63px;}
 
 
  
#processing_msg{
    padding: 6px 0 6px 24px;
    font-family: Arial,Tahoma,Verdana,Helvetica,Sans-serif; 
    background: url({!$Resource.ajaxloader}) 25% 25% no-repeat;
    display: none;
    color: #9a9a9a;    
    font-size: 12px;
    text-align: center;
  }


/** ERROR MESSAGES **/
#error_messages_block {padding: 6px; margin-bottom: 6px; border: 1px solid #f00; display: none;}
#error_messages_block span.error{color: #f00; display: none;}


                   
                             
</style>
    
<script>

    var j$=jQuery.noConflict(); 
    var varCode ='';
    
             /********************************************************
                 This function handles the colon in VisualForce Ids       
              ********************************************************/
                    function jq(myid)                
                        { 
                                
                           return '#' + myid.replace(/(:|\.)/g,'\\\$1');
                
                         }    

    
     j$(document).ready(function()
        {
        
        
             var country= document.getElementById(tcountry);
             
               /**************************************
                    Sarissa for IE-9 compatibility
                **************************************/
               
               
                   if(Sarissa._SARISSA_IS_IE && parseFloat(navigator.appVersion.substring(navigator.appVersion.indexOf("MSIE")+5)) >=8)
                         {    
                              window.XMLSerializer = function(){};      
                              window.XMLSerializer.prototype.serializeToString=function(oNode){return oNode.xml;}    
                        
                          }
                      
               /**********************************************************
                     Function to Check for Special Characters for Name
                **********************************************************/
                      
                      
                        function isSpecialCharacterandNumbername(s) 
                        
                            {
                        
                                  var iChars = "!@#$%^&*()+=-_[]\\\';,/{}|\":<>?0123456789";
                                  
                                   var flag = false;
                                    for (var i = 0; i < s.length; i++)
                                      {
                                     
                                      
                                        if (iChars.indexOf(s.charAt(i)) != -1)
                                          {
                                              flag = true;
                                          }
                                      }
                                  return flag;
                            }
        
                /********************************************************
                     Function to Check for Special Characters citytext
                *********************************************************/
                      
                      
                        function isSpecialCharacterandNumber(s) 
                        
                            {
                        
                                  var iChars = "!@#$%^&*()+=-_[]\\\';,/{}|\":.<>?0123456789";
                                  
                                   var flag = false;
                                    for (var i = 0; i < s.length; i++)
                                      {
                                     
                                      
                                        if (iChars.indexOf(s.charAt(i)) != -1)
                                          {
                                              flag = true;
                                          }
                                      }
                                  return flag;
                            }
              
               /**********************************************************
                    Function to Check for Entered Text is Number or NOT
                ***********************************************************/
        
                        function IsNumber(s) 
                            
                            {
                            
                                      var iChars = "0123456789";
                                      
                                      
                                        for (var i = 0; i < s.length; i++)
                                          {
                                              if (iChars.indexOf(s.charAt(i)) == -1)
                                              {
                                                return true;
                                              }
                                          }
                                      return false;
                            }
                    
                /**********************************************************
                    Function to Check for Entered Text is Empty or NULL
                ***********************************************************/
        
                        function IsEmptyisNull(s) 
                            
                            {                                        
                                 if(s.length==0)
                                     {                                    
                                         return true;
                                     }
                                      return false;
                            }
                    
          
                
                 /******************************************
                      Function to Validate Name Field
                  ******************************************/
                
                
                            function validatename()
                                
                                {
                                    j$("#uname_err").hide();
                                    j$("#uname_err1").hide();
                               
                               
                              
                                    if(j$(jq(tfirstname)).val().length==0)
                                    
                                        {
                                             j$("#uname_err").show();
                                              return false;
                                        }
                                
                                    if(j$(jq(tfirstname)).val()==" " || j$(jq(tfirstname)).val().substr(0,1)==" "|| j$(jq(tfirstname)).val().substr(0,1)=="." || isSpecialCharacterandNumbername(j$(jq(tfirstname)).val()))
                                
                                          {
                                              j$("#uname_err1").show();
                                              return false;
                                          }
                                        return true;
                                }
                    
                 /******************************************
                      Function to Validate EmailId
                  ******************************************/
                    
                    
                        function validateEmailID()
                                {          
                                    j$("#emailid_err").hide();
                                    j$("#emailid1_err").hide();    
                                    if(j$(jq(temailid)).val().length<=0)
                                    {                        
                                        
                                         j$("#emailid_err").show();          
                                        return false;
                                    }
                                    else
                                    {
                                        var stremail = (/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,5})+$/).test(j$(jq(temailid)).val());
                                        if(stremail == false)
                                        {                        
                                           
                                            j$("#emailid1_err").show();    
                                            return false;
                                        }
                                    }            
                                    return true;
                                }
                    
                    
                    
                  /******************************************
                      Function to Validate Mobile
                  ******************************************/
                  
                      function validatemobile()
                          
                          {
                              j$("#mobile_err").hide();
                              j$("#mobile_err1").hide();
                              j$("#mobile_zero").hide();
                              j$("#mobile_max").hide();
                              
                              if(j$(jq(tmobile)).val().length==0)
                              
                                    {
                                        j$("#mobile_err").show();
                                        return false;
                                    }
                               if (j$(jq(tmobile)).val().substr(0, 1) == "0")
                               
                                     {                                            
                                          j$("#mobile_zero").show();
                                           return false;
                                        }
                                    
                              if(IsNumber(j$(jq(tmobile)).val()))                             
                                  {
                                      j$("#mobile_err1").show();
                                      return false;
                                  }
                              if(country.value=="India")
                                {
                    
                                        if (j$(jq(tmobile)).val().length!=10)
                                        {                                            
                                            j$("#mobile_max").show();
                                            return false;
                                        }
                                }
                                
                          
                              return true;
                          }
                       
                        
                          
                  /******************************************
                      Function to Validate Country
                  ******************************************/
                     function validatecountry()
                     
                         {    
                             j$("#country_err").hide();
                             var country= document.getElementById(tcountry);
                          
                            
                                  if(country.value=="None")
                                  
                                      {
                                          j$("#country_err").show();
                                          
                                                                             
                                          return false;
                                      }
                         
                             return true;
                         }
                  
                  /******************************************
                      Function to Validate City
                  ******************************************/
                     function validatecity()
                     
                         {
                             j$("#city_err").hide();
                             j$("#state_err").hide();
                             
                             var country= document.getElementById(tcountry);
                             var city=document.getElementById(tcity);
                             var state=document.getElementById(tstate);
                         
                            
                          if(country.value=="India" && city.value=="None")
                          
                              {                                                            
                                   j$("#city_err").show();                            
                                   return false;
                              }
                          if(country.value=="United States" && state.value=="None")
                          
                              {                                                            
                                   j$("#state_err").show();                            
                                   return false;
                              }
                             return true;
                         }
                  
                  /******************************************
                      Function to Validate CityText
                  ******************************************/
                     function validatecitytext()
                     
                         {
                             j$("#city_text_err").hide();
                             j$("#city_text_err1").hide();
                             var country= document.getElementById(tcountry);
                             var citytext=document.getElementById(tcitytext);
                         
                         if(country.value!="India" && country.value!="United States")
                            {
                                if(citytext.value.length==0)
                                  
                                      {                                                            
                                           j$("#city_text_err").show();                            
                                           return false;
                                      }
                                    if(j$(jq(tcitytext)).val()==" "|| j$(jq(tcitytext)).val().substr(0,1)==" "|| j$(jq(tcitytext)).val().substr(0,1)=="." || isSpecialCharacterandNumber(j$(jq(tcitytext)).val()))                                       
                                       {
                                          j$("#city_text_err1").show();
                                          return false;
                                       }
                                  
                             }
                             return true;
                         }
                  
                  /******************************************
                    function to validate projectname
                  ******************************************/
                      function validateprojectname()
                      
                          {
                               j$("#projectname_err").hide();
                               
                               
                             if(j$(jq(tprojectname)).val()=="None")
                             
                                 {
                                     
                                      j$("#projectname_err").show();                                     
                                      return false;
                                 }
                          
                          
                          
                                  return true;
                          }
                   
                  /******************************************
                    function to validate LandLine Number
                  ******************************************/
                   
                   function validatelandline()
                   
                       {
                                j$("#landline_err").hide();
                                j$("#landline_err1").hide();
                                j$("#landline_code_err").hide();
                                j$("#landlinenull_err").hide();
                                j$("#stdnull_err").hide();
                                j$("#std_not_zero").hide();
                       
                          if(j$(jq(tstdcode)).val().length>0||j$(jq(tlandline)).val().length>0)
                          
                              {
                                   if(country.value=="India")
                                       {
                                           if(j$(jq(tstdcode)).val().length>0)
                                               
                                               {
                                                   if (j$(jq(tstdcode)).val().substr(0, 1) != "0")                                                       
                                                       {
                                                            j$("#std_not_zero").show();
                                                            return false;                                                           
                                                       }
                                                       
                                                    if(IsNumber(j$(jq(tstdcode)).val())||j$(jq(tstdcode)).val().substr(0, 1) == " ")
                                                        {
                                                           
                                                            j$("#landline_code_err").show();
                                                            return false;
                                                        }   
                                               }
                                            if(j$(jq(tstdcode)).val().length>0 && j$(jq(tlandline)).val().length==0)
                                            
                                                {
                                                    j$("#landlinenull_err").show();
                                                    return false;
                                                
                                                }
                                                
                                             if(j$(jq(tlandline)).val().length>0 && (IsNumber(j$(jq(tlandline)).val())||(j$(jq(tlandline)).val().substr(0, 1) == " ")||(j$(jq(tlandline)).val().substr(0, 1) ==0)))
                                             
                                                 {
                                                      j$("#landline_err1").show();
                                                       return false;
                                                 } 
                                            if(j$(jq(tlandline)).val().length>0 && j$(jq(tstdcode)).val().length==0)
                                            
                                                  {
                                                          j$("#stdnull_err").show();
                                                          return false;
                                                  }   
                                             if(j$(jq(tstdcode)).val().length+j$(jq(tlandline)).val().length!=11)
                                             
                                                 {
                                                         j$("#landline_err1").show();
                                                         return false;
                                                 } 
                                                 
                                             return true;  
                                       }
                              
                              
                                 else
                                 
                                     {
                                         if(j$(jq(tstdcode)).val().length>0)
                                         
                                         {
                                             if(j$(jq(tstdcode)).val().substr(0, 1) == "0")
                                                 {
                                                     j$("#landline_err").show();
                                                     return false;
                                                 }
                                              if(IsNumber(j$(jq(tstdcode)).val())||j$(jq(tstdcode)).val().substr(0, 1) == " ")
                                              
                                                  {
                                                      j$("#landline_code_err").show();
                                                      return false;
                                                  }
                                         }
                                         
                                       if(j$(jq(tstdcode)).val().length>0 && j$(jq(tlandline)).val().length==0)
                                       
                                           {
                                                j$("#landlinenull_err").show();
                                                 return false;
                                               }
                                         if(j$(jq(tlandline)).val().length>0 && (IsNumber(j$(jq(tlandline)).val())||(j$(jq(tlandline)).val().substr(0, 1) == " ")||(j$(jq(tlandline)).val().substr(0, 1) ==0)))
                                          
                                          {
                                               j$("#landline_err1").show();
                                               return false;
                                          }
                                      if(j$(jq(tlandline)).val().length>0 && j$(jq(tstdcode)).val().length==0)
                                      
                                          {
                                               j$("#stdnull_err").show();
                                               return false;
                                          }
                                          return true;
                                     }
                                   return true;
                              }
                           return true;
                       }
                   
                   
                   
                  /******************************************
                    function Restrict entering Country code
                  ******************************************/ 
                  function restrictcountrycode(keyCode,e)
                    {
                      
                           if(keyCode==9)
                               {
                               }
                           else
                           {
                                    e.preventDefault ? e.preventDefault() : e.returnValue = false;
                                    return false;  
                           }              
                    }  
                     
                    j$(jq(tcountrycodemobile)).keydown(function(event) {
                          restrictcountrycode(event.keyCode,event);   
                    });
                    j$(jq(tcountrycodelandline)).keydown(function(event) {
                          restrictcountrycode(event.keyCode,event);   
                    });       
                   
                  /******************************************
                    Onchange of country change country code
                  ******************************************/
                  
                   
                   j$('#country_change select').change(function() {
                      
                      getCountryValue();
                   });
                   
                  /******************************************
                         Action happens here Onclick
                  ******************************************/
                   
                    j$('#SubmitLeadLink').click(function(){
                            
                           
                                                                            
                            if(validatename()&validateEmailID()&validatemobile()&validatecountry()&validatecity()&validatecitytext()&validateprojectname()&validatelandline())
                                {
                                    if(validateConfCode()&Invalidconfcode()){
                                    savelead();
                                    
                                    j$('#error_messages_block').slideUp('slow');
                                    
                                     /** show processing image**/
                                    j$('a.btnEnquire').css('display','none');
                                    j$('#processing_msg').css('display','block');
                                    }
                                    else{
                                   
                                    if(validateConfCode()!= true) 
                                    alert('Please validate your mobile number');
                                    if(Invalidconfcode()!= true && validateConfCode()== true ) 
                                    alert('Invalid verification code.');
                                    j$('#error_messages_block').hide();
                                    }
                                  
                                 }
                                 else{
                                 
                                        
                                        j$('#error_messages_block').slideDown('slow');
                                 }
                                 
                            /*if(!validatename()|| !validateEmailID()|| !validatemobile()|| !validatecountry()|| !validatecity()|| !validateprojectname()|| !validatelandline())
                                {
                                   alert('error');
                                    j$('#error_messages_block').slideDown('slow');
                                 }*/

                        
                    });
                    
                    
                     function SendvarificationSMS(mobilenumber,varcode){                        
                       var msgurl= null;                      
                                                                                         
                       msgurl="http://203.122.58.130:8080/OTP_ACL_Web/OtpRequestListener?enterpriseid=lodha&subEnterpriseid=lodha&pusheid=lodha&pushepwd=lodha&msisdn=91"+mobilenumber+"&sender=LODHAD&msgtext=Dear Customer, Please enter the verification code "+ varcode +" to submit your web enquiry";
                       
                      
                           try{
                            j$.ajax({
                                type: "POST",                               
                                url:msgurl,
                                cache: false,                                
                                dataType: "jsonp",
                                data: {},
                                success: function(data) {
                                        alert(data[1]);
                                    }
                            }); 
                            }catch(err){    
                            }
                     alert('Please enter the 4-digit verification code sent on your mobile into the highlighted field and submit your enquiry.');                                                                                     
                        return true;
                    } 
                    
                    
                    function MobileNumberIndia(){
                    
                  
                        if(document.getElementById(tcountry).value=="India")
                            {
                               if (document.getElementById(tmobile).value.length<10 || document.getElementById(tmobile).value.length>10)
                                {
                                    return false;
                                }
                            }  
                            return true;
                        }
                        
                     function getRandomNumber(){                        
                            return Math.floor(Math.random() * 9000) + 1000;
                        }   
                            
                  j$("#GenCodeLink").click(function(){ 
                             
                             
                                               
                            if(MobileNumberIndia()){
                                varCode = getRandomNumber();
                                
                                j$(jq(tConfCode)).val('');
                                
                                var mobilenumber=j$(jq(tmobile)).val();
                                
                                SendvarificationSMS(mobilenumber,varCode);
                                
                                j$('a.casa_submit_btn').css('display','none');
                                j$('#processing_msg_code').css('display','inline-block');
                                setTimeout("j$('#processing_msg_code').css('display','none');j$('a.casa_submit_btn').css('display','inline-block');",5000);                            
                                                                                                                  
                                j$('#verificationdiv input').css('background','#ffc').focus();                          
                            }
                            else
                            {
                                alert(j$("#mobile_max").text());
                            }
                            return false;
                       });        
                    
          });
        
                        // populate country codes ;default to India
                
                        function validateConfCode(){  
                                             
                if((document.getElementById(tallowmobileverification).value=="true") && (document.getElementById(tcountry).value=="India")){
                
                         if(document.getElementById(tcountry).value=="India" &&(!MobileNumberIndiaCheck()||document.getElementById(tConfCode).value.length==0))
                            {                        
                                return false;
                                
                            } 
                         } 
                                 return true;                                                                
                    }
                  function MobileNumberIndiaCheck(){                        
                         if(document.getElementById(tcountry).value=="India")
                            {
                                if (document.getElementById(tmobile).value.length<10 || document.getElementById(tmobile).value.length>10)
                                {
                                    
                                    return false;
                                }
                            }  
                            return true;
                        }
                        
                 function Invalidconfcode()
                         {
                        
                         if( (document.getElementById(tallowmobileverification).value=="true") && (document.getElementById(tcountry).value=="India")){
                         
                          if(MobileNumberIndiaCheck() && document.getElementById(tConfCode).value!= varCode)
                            {
                             return false;
                            }
                          }
                             return true;
                         }
                        
                        function getCountryValue()
                        {                                
                            
                            var countrycode="";
                            var Initialcountryname = document.getElementById(tcountry).value;                     
                            var CheckCodes= document.getElementById("{!$Component.enq_form.CheckCode}").value;                      
                            var countrydefValue =document.getElementById("{!$Component.enq_form.CountryNames}").value;                            
                            var mobVerif= document.getElementById(tallowmobileverification).value;                          
                            if((Initialcountryname != countrydefValue) && CheckCodes=='0')
                            {                                              
                                var countryname = document.getElementById(tcountry).value="India";
                                document.getElementById("{!$Component.enq_form.CheckCode}").value='1';
                            }
                            else if((Initialcountryname == countrydefValue) && CheckCodes=='0')
                            {            
                                var countryname= document.getElementById(tcountry).value;
                                document.getElementById("{!$Component.enq_form.CheckCode}").value='1';
                            }
                            else
                            {                               
                               var countryname= document.getElementById(tcountry).value;
                            }
                                             
                            if(countryname=="India" && mobVerif=="true")
                                {
                                document.getElementById("VerificationBlock").style.display = "block";
                                }
                                else
                                {
                                document.getElementById("VerificationBlock").style.display = "none";
                                }
                            if(countryname == "India")
                            {
                                document.getElementById('cityselectinput_id').style.display = "block";
                                document.getElementById('city_state_none').style.display = "none";
                                document.getElementById('citytextinput_id').style.display = "none";
                            }
                            else if(countryname == "United States")
                            {
                                document.getElementById('cityselectinput_id').style.display = "none";
                                document.getElementById('city_state_none').style.display = "block";
                                document.getElementById('citytextinput_id').style.display = "none";
                            }
                            else
                            {
                                document.getElementById('cityselectinput_id').style.display = "none";
                                document.getElementById('city_state_none').style.display = "none";
                                document.getElementById('citytextinput_id').style.display = "block";
                            }
                            
                            if(countryname=="United States")countrycode = "001";
                            if(countryname=="Albania")countrycode = "00355";
                            if(countryname=="Algeria")countrycode = "00213";
                            if(countryname=="Angola")countrycode = "00244";
                            if(countryname=="Argentina")countrycode = "0054";
                            if(countryname=="Armenia")countrycode = "00374";
                            if(countryname=="Australia")countrycode = "0061";
                            if(countryname=="Austria")countrycode = "0043";
                            if(countryname=="Azerbaijan")countrycode = "00994";
                            if(countryname=="Bahamas")countrycode = "001242";
                            if(countryname=="Bahrain")countrycode = "001973";
                            if(countryname=="Bangladesh")countrycode = "00880";
                            if(countryname=="Belarus")countrycode = "00375";
                            if(countryname=="Belgium")countrycode = "0032";
                            if(countryname=="Benin")countrycode = "00229";
                            if(countryname=="Bermuda")countrycode = "001441";
                            if(countryname=="Bolivia")countrycode = "00591";
                            if(countryname=="Bosnia and Herzegovina")countrycode = "00387";
                            if(countryname=="Botswana")countrycode = "00267";
                            if(countryname=="Brazil")countrycode = "0055";
                            if(countryname=="Bulgaria")countrycode = "00359";
                            if(countryname=="Canada")countrycode = "001";
                            if(countryname=="Chile")countrycode = "0056";
                            if(countryname=="China")countrycode = "0086";
                            if(countryname=="Colombia")countrycode = "0057";
                            if(countryname=="Cook Islands")countrycode = "00682";
                            if(countryname=="Costa Rica")countrycode = "00506";
                            if(countryname=="Croatia")countrycode = "00385";
                            if(countryname=="Cyprus")countrycode = "00357";
                            if(countryname=="Czech Republic")countrycode = "00420";
                            if(countryname=="Denmark")countrycode = "0045";
                            if(countryname=="Dominican Republic")countrycode = "001809";
                            if(countryname=="Ecuador")countrycode = "00593";
                            if(countryname=="Egypt")countrycode = "0020";
                            if(countryname=="El Salvador")countrycode = "00503";
                            if(countryname=="Equatorial Guinea")countrycode = "00240";
                            if(countryname=="Estonia")countrycode = "00372";
                            if(countryname=="Ethiopia")countrycode = "00251";
                            if(countryname=="Faroe Islands")countrycode = "00298";
                            if(countryname=="Finland")countrycode = "00358";
                            if(countryname=="France")countrycode = "0033";
                            if(countryname=="French Polynesia")countrycode = "00689";
                            if(countryname=="Gabon")countrycode = "00241";
                            if(countryname=="Gambia")countrycode = "00220";
                            if(countryname=="Georgia")countrycode = "00995";
                            if(countryname=="Germany")countrycode = "0049";
                            if(countryname=="Ghana")countrycode = "00233";
                            if(countryname=="Gibraltar")countrycode = "00350";
                            if(countryname=="Greece")countrycode = "0030";
                            if(countryname=="Greenland")countrycode = "00299";
                            if(countryname=="Guatemala")countrycode = "00502";
                            if(countryname=="Honduras")countrycode = "00504";
                            if(countryname=="Hong Kong")countrycode = "00852";
                            if(countryname=="Hungary")countrycode = "0036";
                            if(countryname=="Iceland")countrycode = "00354";
                            if(countryname=="India")countrycode = "0091";
                            if(countryname=="Indonesia")countrycode = "0062";
                            if(countryname=="Iran")countrycode = "0098";
                            if(countryname=="Iraq")countrycode = "00964";
                            if(countryname=="Ireland")countrycode = "00353";
                            if(countryname=="Israel")countrycode = "00972";
                            if(countryname=="Italy")countrycode = "0039";
                            if(countryname=="Japan")countrycode = "0081";
                            if(countryname=="Jordan")countrycode = "00962";
                            if(countryname=="Kazakhstan")countrycode = "007";
                            if(countryname=="Kenya")countrycode = "00254";
                            if(countryname=="South Korea")countrycode = "00182";
                            if(countryname=="North Korea")countrycode = "00850";
                            if(countryname=="Kuwait")countrycode = "00965";
                            if(countryname=="Kyrgyzstan")countrycode = "00965";
                            if(countryname=="Latvia")countrycode = "00371";
                            if(countryname=="Lebanon")countrycode = "00961";
                            if(countryname=="Liechtenstein")countrycode = "00423";
                            if(countryname=="Lithuania")countrycode = "00370";
                            if(countryname=="Luxembourg")countrycode = "00352";
                            if(countryname=="Macedonia")countrycode = "00389";
                            if(countryname=="Madagascar")countrycode = "00261";
                            if(countryname=="Malaysia")countrycode = "0060";
                            if(countryname=="Malta")countrycode = "00353";
                            if(countryname=="Mauritius")countrycode = "0020230";
                            if(countryname=="Mexico")countrycode = "0052";
                            if(countryname=="Moldova")countrycode = "00373";
                            if(countryname=="Morocco")countrycode = "00212";
                            if(countryname=="Namibia")countrycode = "00264";
                            if(countryname=="Nepal")countrycode = "00977";
                            if(countryname=="Netherlands")countrycode = "0031";
                            if(countryname=="Netherlands Antilles")countrycode = "00599";
                            if(countryname=="New Zealand")countrycode = "0064";
                            if(countryname=="Nicaragua")countrycode = "00505";
                            if(countryname=="Nigeria")countrycode = "00234";
                            if(countryname=="Norway")countrycode = "0047";
                            if(countryname=="Pakistan")countrycode = "0092";
                            if(countryname=="Panama")countrycode = "00507";
                            if(countryname=="Peru")countrycode = "0051";
                            if(countryname=="Philippines")countrycode = "0063";
                            if(countryname=="Poland")countrycode = "0048";
                            if(countryname=="Portugal")countrycode = "00351";
                            if(countryname=="Qatar")countrycode = "00974";
                            if(countryname=="Romania")countrycode = "0040";
                            if(countryname=="Russian Federation")countrycode = "007";
                            if(countryname=="Saudi Arabia")countrycode = "00966";
                            if(countryname=="Singapore")countrycode = "0065";
                            if(countryname=="Slovak Republic")countrycode = "00421";
                            if(countryname=="Slovenia")countrycode = "00386";
                            if(countryname=="South Africa")countrycode = "0027";
                            if(countryname=="Spain")countrycode = "0034";
                            if(countryname=="Sri Lanka")countrycode = "0094";
                            if(countryname=="Sultanate of Oman")countrycode = "00968";
                            if(countryname=="Sweden")countrycode = "0046";
                            if(countryname=="Switzerland")countrycode = "0041";
                            if(countryname=="Syria")countrycode = "00963";
                            if(countryname=="Taiwan")countrycode = "00886";
                            if(countryname=="Tanzania")countrycode = "00256";
                            if(countryname=="Thailand")countrycode = "0066";
                            if(countryname=="Timor-Leste")countrycode = "00670";
                            if(countryname=="Togo")countrycode = "00228";
                            if(countryname=="Trinidad and Tobago")countrycode = "001868";
                            if(countryname=="Tunisia")countrycode = "00216";
                            if(countryname=="Turkey")countrycode = "0090";
                            if(countryname=="Uganda")countrycode = "00256";
                            if(countryname=="Ukraine")countrycode = "00380";
                            if(countryname=="United Arab Emirates")countrycode = "00971";
                            if(countryname=="United Kingdom")countrycode = "0044";
                            if(countryname=="Uruguay")countrycode = "00598";
                            if(countryname=="Uzbekistan")countrycode = "00998";
                            if(countryname=="Venezuela")countrycode = "0058";
                            if(countryname=="Viet Nam")countrycode = "0084";
                            if(countryname=="Yemen")countrycode = "00967";
                            if(countryname=="Yugoslavia")countrycode = "00967";
                            if(countryname=="Zimbabwe")countrycode = "00263";          
                            if(countryname=="UAE")countrycode = "00971";
                            if(countryname=="American Samoa")countrycode = "001684";
                            if(countryname=="Andorra")countrycode = "00376";
                            if(countryname=="Anguilla")countrycode = "001264";
                            if(countryname=="Antarctica")countrycode = "00672";
                            if(countryname=="Antigua and Barbuda")countrycode = "001268";
                            if(countryname=="Aruba")countrycode = "00297";
                            if(countryname=="Barbados")countrycode = "001246";
                            if(countryname=="Belize")countrycode = "00501";
                            if(countryname=="Bhutan")countrycode = "00975";
                            if(countryname=="Bouvet Island")countrycode = "0047";
                            if(countryname=="British Indian Ocean Territory")countrycode = "001284";
                            if(countryname=="British Virgin Islands")countrycode = "001284";
                            if(countryname=="Brunei")countrycode = "00673";
                            if(countryname=="Burkina Faso")countrycode = "00226";
                            if(countryname=="Burundi")countrycode = "00257";
                            if(countryname=="Cambodia")countrycode = "00855";
                            if(countryname=="Cameroon")countrycode = "00238";
                            if(countryname=="Cape Verde")countrycode = "00238";
                            if(countryname=="Cayman Islands")countrycode = "001";
                            if(countryname=="Central African Republic")countrycode = "00236";
                            if(countryname=="Chad")countrycode = "00235";
                            if(countryname=="Christmas Island")countrycode = "006189";
                            if(countryname=="Cocos Islands")countrycode = "001161";
                            if(countryname=="Comoros")countrycode = "00269";
                            if(countryname=="Congo")countrycode = "00242";
                            if(countryname=="Cuba")countrycode = "0053";
                            if(countryname=="Djibouti")countrycode = "00253";
                            if(countryname=="Dominica")countrycode = "001767";
                            if(countryname=="Eritrea")countrycode = "00291";
                            if(countryname=="Falkland Islands")countrycode = "00500";
                            if(countryname=="Fiji")countrycode = "00679";
                            if(countryname=="French Guiana")countrycode = "00594";
                            if(countryname=="French Southern Territories")countrycode = "00689";
                            if(countryname=="Grenada")countrycode = "001473";
                            if(countryname=="Guadeloupe")countrycode = "00590";
                            if(countryname=="Guam")countrycode = "001671";
                            if(countryname=="Guinea")countrycode = "00224";
                            if(countryname=="Guinea-Bissau")countrycode = "00245";
                            if(countryname=="Guyana")countrycode = "00592";
                            if(countryname=="Haiti")countrycode = "00509";
                            if(countryname=="Heard and McDonald Islands")countrycode = "00509";
                            if(countryname=="Afghanistan")countrycode = "0093";
                            if(countryname=="Ivory Coast")countrycode = "00225";
                            if(countryname=="Jamaica")countrycode = "001876";
                            if(countryname=="Kiribati")countrycode = "00686";
                            if(countryname=="Laos")countrycode = "00856";
                            if(countryname=="Lesotho")countrycode = "00266";
                            if(countryname=="Liberia")countrycode = "00231";
                            if(countryname=="Libya")countrycode = "00218";
                            if(countryname=="Macau")countrycode = "00853";
                            if(countryname=="Malawi")countrycode = "00265";
                            if(countryname=="Maldives")countrycode = "00960";
                            if(countryname=="Mali")countrycode = "00223";
                            if(countryname=="Marshall Islands")countrycode = "00692";
                            if(countryname=="Martinique")countrycode = "00596";
                            if(countryname=="Mauritania")countrycode = "00222";
                            if(countryname=="Mayotte")countrycode = "00269";
                            if(countryname=="Micronesia")countrycode = "00691";
                            if(countryname=="Monaco")countrycode = "00377";
                            if(countryname=="Mongolia")countrycode = "00976";
                            if(countryname=="Montserrat")countrycode = "001664";
                            if(countryname=="Mozambique")countrycode = "00258";
                            if(countryname=="Myanmar")countrycode = "0095";
                            if(countryname=="Nauru")countrycode = "00674";
                            if(countryname=="New Caledonia")countrycode = "00687";
                            if(countryname=="Niger")countrycode = "00227";
                            if(countryname=="Niue")countrycode = "00683";
                            if(countryname=="Norfolk Island")countrycode = "006723";
                            if(countryname=="Northern Mariana Islands")countrycode = "001";
                            if(countryname=="Palau")countrycode = "00680";
                            if(countryname=="Papua New Guinea")countrycode = "00675";
                            if(countryname=="Paraguay")countrycode = "002595";
                            if(countryname=="Pitcairn Island")countrycode = "0063";
                            if(countryname=="Puerto Rico")countrycode = "001939";
                            if(countryname=="Reunion")countrycode = "00262";
                            if(countryname=="Rwanda")countrycode = "00250";
                            if(countryname=="S. Georgia and S. Sandwich Isls.")countrycode = "007";
                            if(countryname=="Saint Kitts and Nevis")countrycode = "001869";
                            if(countryname=="Saint Lucia")countrycode = "001758";
                            if(countryname=="Saint Vincent and The Grenadines")countrycode = "001";
                            if(countryname=="Samoa")countrycode = "00685";
                            if(countryname=="San Marino")countrycode = "00378";
                            if(countryname=="Sao Tome and Principe")countrycode = "00378";
                            if(countryname=="Senegal")countrycode = "00221";
                            if(countryname=="Seychelles")countrycode = "00248";
                            if(countryname=="Sierra Leone")countrycode = "00232";
                            if(countryname=="Slovakia")countrycode = "00421";
                            if(countryname=="Somalia")countrycode = "00252";
                            if(countryname=="St. Helena")countrycode = "00290";
                            if(countryname=="St. Pierre and Miquelon")countrycode = "00508";
                            if(countryname=="Sudan")countrycode = "00249";
                            if(countryname=="Suriname")countrycode = "00597";
                            if(countryname=="Svalbard and Jan Mayen Islands")countrycode = "00597";
                            if(countryname=="Swaziland")countrycode = "00268";
                            if(countryname=="Tajikistan")countrycode = "00992";
                            if(countryname=="Tokelau")countrycode = "00690";
                            if(countryname=="Tonga")countrycode = "00676";
                            if(countryname=="Turkmenistan")countrycode = "00993";
                            if(countryname=="Turks and Caicos Islands")countrycode = "001649";
                            if(countryname=="Tuvalu")countrycode = "00688";
                            if(countryname=="Vanuatu")countrycode = "00678";
                            if(countryname=="Vatican City")countrycode = "0039";
                            if(countryname=="Virgin Islands")countrycode = "001";
                            if(countryname=="Wallis and Futuna Islands")countrycode = "00681";
                            if(countryname=="Western Sahara")countrycode = "00681";
                            if(countryname=="Zaire")countrycode = "00243";
                            if(countryname=="Zambia")countrycode = "00260";
                            document.getElementById(tcountrycodemobile).value = countrycode;
                            document.getElementById(tcountrycodelandline).value = countrycode;
                        }
                        
                       
                      

</script>  


  <apex:form id="enq_form">
                          
                          
                          <script>
                          
                                  var tprojectname="{!$Component.enq_form.projectList_id}";
                                  var tfirstname="{!$Component.enq_form.firstname_id}";
                                  var temailid="{!$Component.enq_form.email_id}";
                                  var tmobile="{!$Component.enq_form.mobile_id}";
                                  var tcountrycodemobile="{!$Component.enq_form.country_code_mobile}";
                                  var tcountrycodelandline="{!$Component.enq_form.country_code_landline}";
                                  var tcountry="{!$Component.enq_form.countrycomponent_id.countrycomponent.countrylist_id}"; 
                                  var tcity="{!$Component.enq_form.citycomponet_id.citycomponent.citylist_id}";
                                  var tstate="{!$Component.enq_form.statecomponent_id.statecomponent.statelist_id}";
                                  var tcitytext="{!$Component.enq_form.citytext_id}";
                                  var tstdcode="{!$Component.enq_form.std_code_id}";
                                  var tlandline="{!$Component.enq_form.land_line_id}";
                                  var returnurl="http://www.casabylodha.com/thankyou.php";
                                  
                                  var tallowmobileverification="{!$Component.enq_form.allowmobileverification}";
                                  var tConfCode="{!$Component.enq_form.ConfirmationCode}"; 
                                  
                          </script>
  
  
  
  
     
  
             <fieldset id="casbylodha_business_form">
             
             
             <div id="error_messages_block"> 
                 <span class="error" id="projectname_err">Please select the project name.</span>
                 <span class="error" id="uname_err">Please enter your name.</span>
                 <span class="error" id="uname_err1">Please enter a valid name.</span>
                 <span class="error" id="emailid_err">Email id should not be blank.</span>
                 <span class="error" id="emailid1_err">Please enter valid Email ID.</span>
                 <span class="error" id="country_err">Please select country.</span>
                 <span class="error" id="city_err">Please select city.</span>
                 <span class="error" id="state_err">Please select State.</span>
                 <span class="error" id="city_text_err">Please enter city.</span>
                 <span class="error" id="city_text_err1">Please enter valid city.</span>
                 <span class="error" id="mobile_err">Please enter your Mobile number.</span>
                 <span class="error" id="mobile_err1">Please enter valid mobile no.</span>
                 <span class="error" id="mobile_zero"> Mobile number should not begin with zero.</span>
                 <span class="error" id="mobile_max">Mobile number must be a 10 digit number.</span>
                 <span class="error" id="landline_err">STD code should not start with 0.</span>
                 <span class="error" id="std_not_zero">STD code should begin with 0.</span>
                 <span class="error" id="stdnull_err">Please enter a STD code.</span>
                 <span class="error" id="landlinenull_err">Please enter a Landline number.</span>
                 <span class="error" id="landline_code_err">Please enter a valid STD code.</span>                              
                 <span class="error" id="landline_err1">Please enter a valid Landline number.</span>
                 <span class="error" id="projectname_err">Please select the project.</span>
             </div>
             
             <!--Input Text to Capture Project Name-->
                    <p>
                        <label id="project"><span>*</span>Project Interested: </label>
                        <span class="select">
                            <apex:selectList id="projectList_id" value="{!selectedproject}" multiselect="false" size="1">
                                 <apex:selectOptions value="{!Allprojectname}"/>
                                 <apex:actionSupport event="onchange" reRender="tester"  oncomplete="getCountryValue()" action="{!ProjectName}" />
                            </apex:selectList>
                        </span>
                       
                      </p>
                      
                    <!--Input Text to Capture Lead Name--> 
                          <p>
                            <label id="name"><span>*</span>Name: </label> 
                             <apex:inputText value="{!name}" id="firstname_id"/>
                          </p>
                          
                    <!--Input Text to Capture Email-->     
                          <p>
                            <label id="email"><span>*</span>Email: </label> 
                            <apex:inputText value="{!email}" id="email_id"/>
                          </p>
                       
                     <!--Display List of Countries and Capture Select Country-->    
                       <p id="country_change">
                            <label id="country"><span>*</span>Country: </label> 
                                <span class="select">
                                     <c:ListofCountries value="{!country}" countrylist_id="country_id" id="countrycomponent_id">
                                     </c:ListofCountries>
                                </span>
                            
                      </p>
                      
                   <!--Display List of Indian Cities if Country is India and Capture Select City-->
                       <p id="cityselectinput_id">
                            <label id="city"><span>*</span>City/State:</label>
                                <span class="select">               
                                <c:ListofIndianCities value="{!city}" citylist_id="city_id" id="citycomponet_id">
                                </c:ListofIndianCities>
                                </span>
                           
                      </p>
                      
                   <!--Display List of US States if Country is United States and Capture Select State-->
                       <p id="city_state_none">
                            <label id="uscitystate"><span>*</span>State: </label>
                                <span class="select">               
                                <c:ListofUSStates value="{!uscitystate}" statelist_id="uscitystate_id" id="statecomponent_id">
                                </c:ListofUSStates>                   
                                </span>
                      </p>
                      
                    <!--Input Text to Capture City if country is Other than India-->
                           <p id="citytextinput_id">
                               <label id="citytext"><span>*</span>City: </label> 
                               <apex:inputText id="citytext_id" value="{!cityText}"/>   
                           </p>
                          
                           <!--Input Text to Capture Mobile Number-->   
                           <p>
                                 <label id="mobile"><span>*</span>Mobile: </label> 
                                 <apex:inputtext id="country_code_mobile" styleClass="mob1" value="{!countrycode}"/> 
                                 <apex:inputText id="mobile_id" styleClass="mob2" value="{!mobileNumber}" />
                                 <em> Eg: 0091x - 1111111111</em>
                           </p>
                           
                           <!--> verification code <-->  
                            <div id="VerificationBlock">
                                <p style="color:black">
                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                
                                Click here to validate your mobile number <span style="color:red">*</span></p>
                                
                                <table>
                                <tr>
                                <td style="width:125px"></td>
                                <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
                                <td> <span> <apex:inputText id="ConfirmationCode"   size="4" maxlength="4" style="width:52px"/></span></td>
                                <td><a href="#" id="GenCodeLink"><apex:image url="{!$Resource.CasaGroup_Verify}"  width="120px" /></a></td>
                                <td>
                                <span id="processing_msg_code" style="display:none">Sending code...</span>
                                <span class="err_msg" id="ConfirmationCode_err" style="display:none">Invalid Code </span>
                                </td>
                                </tr>
                                </table>
                                
                                
                                
                            </div>
                           
                           <!--Input Text to Capture Landline Number-->
                                <p>
                                    <label id="landline">Landline: </label> 
                                    <apex:inputtext id="country_code_landline" styleClass="lan1" value="{!countrycode}"/>  
                                    <apex:inputText id="std_code_id" styleClass="lan2" value="{!stdCode}"/>
                                    <apex:inputText id="land_line_id"  styleClass="lan3" value="{!landLineNumber}"/>
                                    <em> Eg: 0091x - 022x - 11111111</em>
                                   
                              </p>
                       <p>
                            <label id="project">Source of Information: </label>
                                <span class="select">
                                     <apex:selectList size="1" value="{!sourceofinformation}" multiselect="false">
                                         <apex:selectOption itemValue="None" itemlabel="-Select-"/>
                                         <apex:selectOption itemValue="Online News" itemlabel="Online News"/>
                                         <apex:selectOption itemValue="Newspaper" itemlabel="Newspaper"/>
                                         <apex:selectOption itemValue="Hoarding" itemlabel="Hoarding"/>
                                         <apex:selectOption itemValue="Radio" itemlabel="Radio"/>
                                         <apex:selectOption itemValue="Word of Mouth" itemlabel="Word of Mouth"/>
                                     </apex:selectList>
                                </span> 
                                                          
                      </p>
                      
                    
                      
                    
                      <div id="cbl-submit-btn">
                          <a href="#" id="SubmitLeadLink">Submit</a>
                         
                          
                          <div id="processing_msg" >Your enquiry is being submitted ...</div>
                          
                    </div>
                    
                   
                     
                   </fieldset>
                   
                   <apex:actionFunction action="{!submitLead}" name="savelead" oncomplete="if({!isinserted}){redirect();}else{sendmessage();}"/>                  
                   <apex:actionFunction name="redirect" oncomplete="window.parent.location.href=returnurl"/>
                   <apex:actionFunction immediate="true" action="{!senderrmsg}" name="sendmessage" oncomplete="alert('Due to some technical issue, your enquiry could not be submitted. Please resubmit your details.');
                              window.location.reload(true);"/>
            <apex:outputpanel id="tester"> 
                    <apex:inputhidden value="{!allowmobileverification}" id="allowmobileverification"/>  </apex:outputpanel>
                    <apex:inputhidden value="{!CountryNames}" id="CountryNames"/>
                    <apex:inputhidden value="{!CheckCode}" id="CheckCode"/>
                    
  </apex:form>
  
  
             <script>                  
                    window.onload = getCountryValue;
             </script> 
             
             <!-- Google Analytics tracking code -->
        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        
          ga('create', 'UA-40840059-1', 'force.com');
          ga('send', 'pageview');
        
        </script>
            
</apex:page>